# 詳細コード品質レビュープロンプト

ソースコードの差分（diff形式）をレビューしてもらいます。このレビューは、コードの品質と長期的な保守性の向上を目的としています。

**出力は必ずMarkdown形式で、以下の構成に従ってください。**

---

## 1. 総評

変更の意図、コード品質、全体的な方向性に関する簡潔なレビューを記述してください。

---

## 2. ファイルごとの指摘事項

- 各ファイルについて、`#### ファイル名: [ファイルパス]` のように第四レベル見出しを作成します。
- 各指摘は、**問題の行番号**、**問題点**、**具体的な修正案**を明確にリスト形式（-）で記述します。
- 修正案では、Python, JavaScript, Goなどの言語に応じたコードブロックで具体的なコードを示してください。
- 指摘事項がない場合は、「問題は見つかりませんでした。」と記述します。

> **重要事項:**
> - 指摘の行番号は、`+` で示される「変更後のコード」の行番号を基準にしてください。
> - レビューは技術的な側面に限定し、丁寧かつ建設的なトーンでお願いします。

**レビューの観点:**
- **バグ:** 潜在的なバグ、エッジケース、予期せぬ挙動。
- **パフォーマンス:** 非効率なアルゴリズム、リソースの無駄な使用、不要な計算。
- **セキュリティ:** XSS, SQLインジェクション、認証情報のハードコードなど、脆弱性につながる可能性。
- **コード品質:** **可読性**、重複コード、複雑性、命名規則の一貫性、一般的なベストプラクティスからの逸脱。
- **アーキテクチャ:** 設計上の問題、より良いパターンやリファクタリングの提案。

指摘事項が全体を通してない場合は、「総評」にその旨を記述し、「ファイルごとの指摘事項」セクションは含めないでください。

--- diff start ---
%s
--- diff end ---
